{% extends 'core/base.html' %}
{% block content %}
<div class="d-flex justify-content-between align-items-center">
  <h2>Jobs</h2>
  <div>
    {% if user.is_authenticated %}
      <a class="btn btn-success" href="{% url 'jobs:create' %}">Post a job</a>
    {% endif %}
  </div>
</div>

<form class="my-3" method="get">
  <input class="form-control" type="text" name="q" placeholder="Search title, description, location" value="{{ query }}">
</form>

<div class="list-group">
  {% for job in jobs %}
    <a class="list-group-item list-group-item-action" href="{% url 'jobs:detail' job.pk %}">
      <div class="d-flex justify-content-between">
        <h5>{{ job.title }}</h5>
        <small>{{ job.location }} â€¢ {{ job.get_job_type_display }}</small>
      </div>
      <p class="mb-1 text-muted">{{ job.description|truncatechars:140 }}</p>
    </a>
  {% empty %}
    <p>No jobs found.</p>
  {% endfor %}
</div>
{% endblock %}
